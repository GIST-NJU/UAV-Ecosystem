{%extends "base.html"%}
{% block content %}
    <div class="banner_w3lspvt position-relative">
        <div class="container">
            <div class="row">
                <div class="col text-center">
                    <form action = "/user/{{current_user.user_uid}}" method = "POST" target="postTo">
                        <img src="{{current_user.user_icon}}" alt="头像"  id = "avatar_img" height="50" width="50">
                        <input type="file" id="avatar_file" name="avatar_file" accept="image/jpg,image/png,image/gif" style="width: 100%;height:100%;opacity: 0;position: absolute;left:0;top: 0;"/>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock%}
{% block script%}
    {{super()}}
    <script>
        $("#avatar_file").change(function () {
            // 获取上传文件对象
            var file = $(this)[0].files[0];
            // 读取文件URL
            var reader = new FileReader();
            reader.readAsDataURL(file);
            // 阅读文件完成后触发的事件
            reader.onload = function () {
                // 读取的URL结果：this.result
                $("#avatar_img").attr("src", this.result);
            }
        });
    </script>


{% endblock %}